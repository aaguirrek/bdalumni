"use strict";const g=["Aztec","Codabar","Code128","Code39","Code93","DataBar","DataBarExpanded","DataMatrix","DXFilmEdge","EAN-13","EAN-8","ITF","Linear-Codes","Matrix-Codes","MaxiCode","MicroQRCode","None","PDF417","QRCode","rMQRCode","UPC-A","UPC-E"];function O(e){return e.join("|")}function b(e){const t=y(e);let r=0,o=g.length-1;for(;r<=o;){const n=Math.floor((r+o)/2),a=g[n],c=y(a);if(c===t)return a;c<t?r=n+1:o=n-1}return"None"}function y(e){return e.toLowerCase().replace(/_-\[\]/g,"")}const w=["LocalAverage","GlobalHistogram","FixedThreshold","BoolCast"];function p(e,t){return e.Binarizer[t]}const _=["Unknown","ASCII","ISO8859_1","ISO8859_2","ISO8859_3","ISO8859_4","ISO8859_5","ISO8859_6","ISO8859_7","ISO8859_8","ISO8859_9","ISO8859_10","ISO8859_11","ISO8859_13","ISO8859_14","ISO8859_15","ISO8859_16","Cp437","Cp1250","Cp1251","Cp1252","Cp1256","Shift_JIS","Big5","GB2312","GB18030","EUC_JP","EUC_KR","UTF16BE","UTF8","UTF16LE","UTF32BE","UTF32LE","BINARY"];function E(e,t){return e.CharacterSet[t]}const C=["Text","Binary","Mixed","GS1","ISO15434","UnknownECI"];function B(e){return C[e.value]}const A=["Ignore","Read","Require"];function v(e,t){return e.EanAddOnSymbol[t]}const R=["Plain","ECI","HRI","Hex","Escaped"];function M(e,t){return e.TextMode[t]}const u={formats:[],tryHarder:!0,tryRotate:!0,tryInvert:!0,tryDownscale:!0,binarizer:"LocalAverage",isPure:!1,downscaleFactor:3,downscaleThreshold:500,minLineCount:2,maxNumberOfSymbols:255,tryCode39ExtendedMode:!1,validateCode39CheckSum:!1,validateITFCheckSum:!1,returnCodabarStartEnd:!1,returnErrors:!1,eanAddOnSymbol:"Read",textMode:"Plain",characterSet:"Unknown"};function F(e,t){return{...t,formats:O(t.formats),binarizer:p(e,t.binarizer),eanAddOnSymbol:v(e,t.eanAddOnSymbol),textMode:M(e,t.textMode),characterSet:E(e,t.characterSet)}}const U=[-1,0,1,2,3,4,5,6,7,8],L=["L","M","Q","H"],h={width:200,height:200,format:"QRCode",characterSet:"UTF8",eccLevel:-1,margin:10};function P(e,t){return{...t,characterSet:E(e,t.characterSet)}}function T(e){return{...e,format:b(e.format),eccLevel:e.eccLevel,contentType:B(e.contentType)}}function D(e){const{image:t,error:r}=e;return t?{image:new Blob([new Uint8Array(t)],{type:"image/png"}),error:""}:{image:null,error:r}}const H={locateFile:(e,t)=>{const r=e.match(/_(.+?)\.wasm$/);return r?`https://fastly.jsdelivr.net/npm/zxing-wasm@1.1.1/dist/${r[1]}/${e}`:t+e}};let m=new WeakMap;function f(e,t){var a;const r=m.get(e);if(r!=null&&r.modulePromise&&(t===void 0||Object.is(t,r.moduleOverrides)))return r.modulePromise;const o=(a=t!=null?t:r==null?void 0:r.moduleOverrides)!=null?a:H,n=e({...o});return m.set(e,{moduleOverrides:o,modulePromise:n}),n}function W(){m=new WeakMap}function X(e,t){m.set(e,{moduleOverrides:t})}async function x(e,t,r=u){const o={...u,...r},n=await f(e),{size:a}=t,c=new Uint8Array(await t.arrayBuffer()),d=n._malloc(a);n.HEAPU8.set(c,d);const l=n.readBarcodesFromImage(d,a,F(n,o));n._free(d);const i=[];for(let s=0;s<l.size();++s)i.push(T(l.get(s)));return i}async function Z(e,t,r=u){const o={...u,...r},n=await f(e),{data:a,width:c,height:d,data:{byteLength:l}}=t,i=n._malloc(l);n.HEAPU8.set(a,i);const s=n.readBarcodesFromPixmap(i,c,d,F(n,o));n._free(i);const I=[];for(let S=0;S<s.size();++S)I.push(T(s.get(S)));return I}async function z(e,t,r=h){const o={...h,...r},n=await f(e),a=n.writeBarcodeToImage(t,P(n,o));return D(a)}const N=structuredClone(u),$=structuredClone(h);exports.barcodeFormats=g;exports.binarizers=w;exports.characterSets=_;exports.contentTypes=C;exports.defaultDecodeHints=N;exports.defaultEncodeHints=$;exports.eanAddOnSymbols=A;exports.getZXingModuleWithFactory=f;exports.purgeZXingModule=W;exports.readBarcodesFromImageDataWithFactory=Z;exports.readBarcodesFromImageFileWithFactory=x;exports.readOutputEccLevels=L;exports.setZXingModuleOverridesWithFactory=X;exports.textModes=R;exports.writeBarcodeToImageFileWithFactory=z;exports.writeInputEccLevels=U;
